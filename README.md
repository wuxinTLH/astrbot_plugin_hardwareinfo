# astrbot_plugin_hardwareinfo

AstrBot框架插件，用于查询CPU/GPU硬件信息，支持型号搜索、参数详情生成及天梯图查看。

## 概述

`astrbot_plugin_hardwareinfo` 是一款适用于AstrBot框架的插件，可让机器人响应 `cpu` 或 `gpu` 相关指令，提供硬件型号搜索、中文参数详情（图片格式）及性能天梯图展示功能。插件适配Windows/Linux/Docker环境，解决中文显示问题，支持基础冷却机制防止滥用。

## 仓库地址

[https://github.com/wuxinTLH/astrbot_plugin_hardwareinfo](https://github.com/wuxinTLH/astrbot_plugin_hardwareinfo)

## 兼容性

- **插件版本**：v0.0.2
- **适配AstrBot框架版本**：v4.1.4及以上（已验证可用）
- **支持平台**：QQ官方机器人（基于QQ Official Webhook适配器）  
  *其他平台（微信、Discord等）暂未测试*

## 数据来源

所有硬件参数及天梯图数据均来自 [TechPowerUp](https://www.techpowerup.com)。本插件仅负责数据解析、中文转换及展示，不本地存储原始数据，参数图片为临时生成。

## 安装步骤

1. 克隆或下载本仓库；
2. 将插件文件解压至AstrBot插件目录：  
   默认路径：`/AstrBot/data/plugins/astrbot_plugin_hardwareinfo/`
   或直接在astrbot的插件管理界面选择安装本地插件（使用.zip格式）
3. 确保插件目录包含核心文件：  
   - `astrbot_plugin_hardwareinfo.py`（插件核心逻辑）

## 基本指令列表

| 指令格式                  | 功能描述                          | 适用场景                  |
|---------------------------|-----------------------------------|---------------------------|
| `cpu`                     | 查看CPU性能天梯图                | 快速了解CPU性能排名       |
| `gpu`                     | 查看GPU性能天梯图                | 快速了解GPU性能排名       |
| `cpu [关键词]`            | 搜索CPU型号（支持模糊匹配）      | 查询特定CPU的详细信息     |
| `gpu [关键词]`            | 搜索GPU型号（支持模糊匹配）      | 查询特定GPU的详细信息     |
| `cpu [序号]`              | 查看搜索结果中对应序号的CPU参数  | 基于搜索结果查看详情      |
| `gpu [序号]`              | 查看搜索结果中对应序号的GPU参数  | 基于搜索结果查看详情      |


## 指令详解

### 1. 查看性能天梯图
- **指令**：`cpu` 或 `gpu`
- **功能**：返回最新的CPU/GPU性能天梯图，直观展示不同型号的性能排序
- **示例**：
  - 发送 `cpu` → 返回CPU天梯图
  - 发送 `gpu` → 返回GPU天梯图
- **说明**：天梯图为静态图片，定期更新；无冷却时间限制


### 2. 搜索硬件型号
- **指令**：`cpu [关键词]` 或 `gpu [关键词]`
- **功能**：根据关键词搜索匹配的硬件型号，返回包含序号的列表（1分钟内有效）
- **参数**：`[关键词]` 为硬件型号的部分或完整名称（如“9800x”“rtx 5090”）
- **示例**：
  - 发送 `cpu 9800x` → 返回包含“9800x”的CPU型号列表
  - 发送 `gpu rtx 5090` → 返回包含“rtx 5090”的GPU型号列表
- **说明**：
  - 支持品牌、系列、型号等关键词（如“intel i9”“amd rx”）
  - 搜索操作有30秒冷却时间，防止高频请求


### 3. 查看硬件参数详情
- **指令**：`cpu [序号]` 或 `gpu [序号]`
- **功能**：基于最近一次搜索结果，返回对应序号的硬件参数详情（中文+图片格式）
- **参数**：`[序号]` 为搜索结果列表中的数字（如1、2、3）
- **示例**：
  - 搜索后返回列表包含“1. Intel Core i9-9800X”，发送 `cpu 1` → 返回该CPU的参数图片
  - 搜索后返回列表包含“2. NVIDIA GeForce RTX 5090”，发送 `gpu 2` → 返回该GPU的参数图片
- **说明**：
  - 参数图片包含频率、缓存、显存、接口等核心信息
  - 需在搜索结果有效期（1分钟）内使用，过期需重新搜索
  - 无冷却时间限制，可连续查看多个型号


## 注意事项

- 关键词不区分大小写（如“CPU 9800X”与“cpu 9800x”效果一致）
- 序号仅对应最近一次搜索结果，新搜索会覆盖历史序号
- 若搜索无结果，建议简化关键词（如用“5090”代替“RTX 5090 16G”）
- 参数图片生成需要几秒时间，请勿重复发送指令